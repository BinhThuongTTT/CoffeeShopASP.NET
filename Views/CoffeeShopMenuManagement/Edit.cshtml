@model CoffeeShopWeb.Models.Product
<link rel="stylesheet" href="~/css/St&MngProd&Res.css" />

<h2>Edit Product</h2>
@if (TempData["Success"] != null)
{
    <div class="success">@TempData["Success"]</div>
}
@if (ViewData.ModelState["image"] != null && ViewData.ModelState["image"].Errors.Count > 0)
{
    <div class="error">Warning: Image needs to be chosen to save the edit.</div>
}

<form asp-action="Edit" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id" />
    <div><label asp-for="Name"></label><input asp-for="Name" required /></div>
    <div><label asp-for="Price"></label><input asp-for="Price" type="number" step="0.01" required /></div>
    <div><label asp-for="Description"></label><textarea asp-for="Description"></textarea></div>

    @if (!string.IsNullOrEmpty(Model.ImagePath))
    {
        <div><label>Current Image:</label><img src="@Model.ImagePath" alt="Current Image" style="max-width: 200px;" /></div>
    }
    <div><label>New Image</label><input type="file" name="image" required /></div>
    <div>
        <label asp-for="CategoryId"></label>
        <select asp-for="CategoryId" asp-items="@(new SelectList(ViewBag.Categories, "Id", "Name"))" required></select>
    </div>
    <div><label><input asp-for="IsAvailable" type="checkbox" /> Available</label></div>
    <button type="submit">Save</button>
</form>

<a asp-controller="CoffeeShopAdmin" asp-action="Index" class="back-button">⬅ Back</a>
